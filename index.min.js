!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.sideways={})}(this,function(exports){"use strict";const sideways=document.querySelector(".sideways"),container=document.querySelector(".sideways > .pages"),pageLefts=document.querySelectorAll(".page-left"),pageRights=document.querySelectorAll(".page-right"),pages=document.querySelectorAll(".page"),numPages=pages.length;let pageWidth=document.querySelector(".sideways").offsetWidth;var elements={sideways:sideways,container:container,pageLefts:pageLefts,pageRights:pageRights,pages:pages,pageWidth:pageWidth,numPages:numPages,updateWidth:function(){pageWidth=document.querySelector(".sideways").offsetWidth}};const css=document.createElement("style");css.type="text/css",css.innerHTML=`\nhtml, body {\n  height: 100%;\n}\n\n.sideways {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.sideways > .pages {\n  width: ${elements.pageWidth*elements.numPages}px;\n  height: 100%;\n  display: block;\n  position: relative;\n}\n\n.page {\n  width: ${elements.pageWidth}px;\n  float: left;\n  height: 100%;\n}\n\n.animated {\n  transition: all 300ms ease-out;\n}\n`;var styles={load:function(){document.getElementsByTagName("head")[0].appendChild(css)},addAnimation:function(){elements.container.classList.add("animated")},removeAnimation:function(){elements.container.classList.remove("animated")},updateWidth:function(){elements.container.style.width=`${document.querySelector(".sideways").offsetWidth*elements.numPages}px`;for(let page of elements.pages)page.style.width=`${document.querySelector(".sideways").offsetWidth}px`}};const delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));let currentPage=0;function moveToPage(pageNumber){elements.container.style.transform=`translate3d(-${document.querySelector(".sideways").offsetWidth*pageNumber}px, 0px, 0px)`}async function movePageLeft(){styles.addAnimation(),moveToPage(--currentPage),await delay(300),styles.removeAnimation()}async function movePageRight(){styles.addAnimation(),moveToPage(++currentPage),await delay(300),styles.removeAnimation()}exports.init=function(startingPage){document.addEventListener("DOMContentLoaded",async()=>{styles.load(),moveToPage(startingPage),currentPage=startingPage,elements.pageLefts.forEach(e=>e.addEventListener("click",()=>movePageLeft())),elements.pageRights.forEach(e=>e.addEventListener("click",()=>movePageRight())),window.addEventListener("resize",()=>{elements.updateWidth(),styles.updateWidth(),moveToPage(currentPage),console.log("resize!")})})},exports.movePageRight=movePageRight,exports.movePageLeft=movePageLeft,exports.moveToPage=moveToPage,Object.defineProperty(exports,"__esModule",{value:!0})});